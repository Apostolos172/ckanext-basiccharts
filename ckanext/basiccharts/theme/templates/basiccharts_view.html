{% resource 'basiccharts/main' %}

{% block scripts %}
<script>
  window.onload = function() {
    var endpoint = "http://localhost:5000/api",
        resourceView = {{ h.dump_json(resource_view) | safe }},
        resource = {{ h.dump_json(resource) | safe }};
    resource.endpoint = endpoint;

    // FIXME: We'll have problems with multiple elements on the same page.
    // Right now, they'll have the same ID.
    ckan.views.basiccharts.init("#graph", resource, resourceView);
  }

</script>
{% endblock %}

<div style="height: 500px;" id="graph"></div>
